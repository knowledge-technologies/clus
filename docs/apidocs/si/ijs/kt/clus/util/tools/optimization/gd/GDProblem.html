<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (18) on Sat Sep 30 21:34:06 UTC 2023 -->
<title>GDProblem (CLUS 2.12.8 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-09-30">
<meta name="description" content="declaration: package: si.ijs.kt.clus.util.tools.optimization.gd, class: GDProblem">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon"></span><span class="nav-bar-toggle-icon"></span><span class="nav-bar-toggle-icon"></span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/GDProblem.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li><a href="#nested-class-summary">Nested</a></li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">si.ijs.kt.clus.util.tools.optimization.gd</a></div>
<h1 title="Class GDProblem" class="title">Class GDProblem</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="../OptimizationProblem.html" title="class in si.ijs.kt.clus.util.tools.optimization">si.ijs.kt.clus.util.tools.optimization.OptimizationProblem</a>
<div class="inheritance">si.ijs.kt.clus.util.tools.optimization.gd.GDProblem</div>
</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">GDProblem</span>
<span class="extends-implements">extends <a href="../OptimizationProblem.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptimizationProblem</a></span></div>
<div class="block">Class representing a gradient descent optimization problem. This gives tool
 functions for the actual optimization algorithm.</div>
<dl class="notes">
<dt>Author:</dt>
<dd>Timo Aho</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="inherited-list">
<h2 id="nested-classes-inherited-from-class-si.ijs.kt.clus.util.tools.optimization.OptimizationProblem">Nested classes/interfaces inherited from class&nbsp;si.ijs.kt.clus.util.tools.optimization.<a href="../OptimizationProblem.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptimizationProblem</a></h2>
<code><a href="../OptimizationProblem.OptimizationParameter.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptimizationProblem.OptimizationParameter</a>, <a href="../OptimizationProblem.RulePred.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptimizationProblem.RulePred</a>, <a href="../OptimizationProblem.TrueValues.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptimizationProblem.TrueValues</a></code></div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected int[]</code></div>
<div class="col-second even-row-color"><code><a href="#m_bannedWeights" class="member-name-link">m_bannedWeights</a></code></div>
<div class="col-last even-row-color">
<div class="block">Includes the weights that are banned.</div>
</div>
<div class="col-first odd-row-color"><code>protected double[][]</code></div>
<div class="col-second odd-row-color"><code><a href="#m_covariances" class="member-name-link">m_covariances</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Covariances between weights.</div>
</div>
<div class="col-first even-row-color"><code>protected <a href="../OptimizationProblem.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptimizationProblem</a></code></div>
<div class="col-second even-row-color"><code><a href="#m_earlyStopProbl" class="member-name-link">m_earlyStopProbl</a></code></div>
<div class="col-last even-row-color">
<div class="block">New problem for computing fitness function with the early stop data</div>
</div>
<div class="col-first odd-row-color"><code>protected double[]</code></div>
<div class="col-second odd-row-color"><code><a href="#m_gradients" class="member-name-link">m_gradients</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Computed negative gradient averages for each of the dimensions [iWeight]</div>
</div>
<div class="col-first even-row-color"><code>protected boolean[]</code></div>
<div class="col-second even-row-color"><code><a href="#m_isCovComputed" class="member-name-link">m_isCovComputed</a></code></div>
<div class="col-last even-row-color">
<div class="block">Is covariance computed for this dimension? To reduce computational costs,
 covariances for certain dimension are computed only if needed Weight is
 always zero if the corresponding coefficient is zero.</div>
</div>
<div class="col-first odd-row-color"><code>protected boolean[]</code></div>
<div class="col-second odd-row-color"><code><a href="#m_isWeightNonZero" class="member-name-link">m_isWeightNonZero</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Is the weight nonzero for this run.</div>
</div>
<div class="col-first even-row-color"><code>protected double</code></div>
<div class="col-second even-row-color"><code><a href="#m_minFitness" class="member-name-link">m_minFitness</a></code></div>
<div class="col-last even-row-color">
<div class="block">List of old fitnesses for plateau detection (andy for debugging)</div>
</div>
<div class="col-first odd-row-color"><code>protected <a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#m_minFitWeights" class="member-name-link">m_minFitWeights</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Weights when the Fitness was minimum</div>
</div>
<div class="col-first even-row-color"><code>protected int</code></div>
<div class="col-second even-row-color"><code><a href="#m_nbOfNonZeroRules" class="member-name-link">m_nbOfNonZeroRules</a></code></div>
<div class="col-last even-row-color">
<div class="block">Number of rules with nonzero weights.</div>
</div>
<div class="col-first odd-row-color"><code>protected double[]</code></div>
<div class="col-second odd-row-color"><code><a href="#m_predCovWithTrue" class="member-name-link">m_predCovWithTrue</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Covariances between predictors and true values.</div>
</div>
<div class="col-first even-row-color"><code>static boolean</code></div>
<div class="col-second even-row-color"><code><a href="#m_printGDDebugInformation" class="member-name-link">m_printGDDebugInformation</a></code></div>
<div class="col-last even-row-color">
<div class="block">Do we print debugging information.</div>
</div>
<div class="col-first odd-row-color"><code>protected <a href="../../../../algo/rules/ClusRuleSet.html" title="class in si.ijs.kt.clus.algo.rules">ClusRuleSet</a></code></div>
<div class="col-second odd-row-color"><code><a href="#m_ruleSet" class="member-name-link">m_ruleSet</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected double</code></div>
<div class="col-second even-row-color"><code><a href="#m_stepSize" class="member-name-link">m_stepSize</a></code></div>
<div class="col-last even-row-color">
<div class="block">Step size for gradient descent</div>
</div>
</div>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-si.ijs.kt.clus.util.tools.optimization.OptimizationProblem">Fields inherited from class&nbsp;si.ijs.kt.clus.util.tools.optimization.<a href="../OptimizationProblem.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptimizationProblem</a></h3>
<code><a href="../OptimizationProblem.html#INVALID_PREDICTION">INVALID_PREDICTION</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(si.ijs.kt.clus.main.ClusStatManager,si.ijs.kt.clus.util.tools.optimization.OptimizationProblem.OptimizationParameter,si.ijs.kt.clus.algo.rules.ClusRuleSet)" class="member-name-link">GDProblem</a><wbr>(<a href="../../../../main/ClusStatManager.html" title="class in si.ijs.kt.clus.main">ClusStatManager</a>&nbsp;stat_mgr,
 <a href="../OptimizationProblem.OptimizationParameter.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptimizationProblem.OptimizationParameter</a>&nbsp;optInfo,
 <a href="../../../../algo/rules/ClusRuleSet.html" title="class in si.ijs.kt.clus.algo.rules">ClusRuleSet</a>&nbsp;rset)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructor for problem to be solved with gradient descent.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#computeCovariancesIfNeeded(int)" class="member-name-link">computeCovariancesIfNeeded</a><wbr>(int&nbsp;iWeight)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Compute the needed covariances for the weight.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#dropStepSize(double)" class="member-name-link">dropStepSize</a><wbr>(double&nbsp;amount)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">In case of oscillation, make the step size shorter We should be changing the
 step size just enough not to prevent further oscillation</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#fullGradientComputation(java.util.ArrayList)" class="member-name-link">fullGradientComputation</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&gt;&nbsp;weights)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Compute the gradients for weights from scratch</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getBestFitness()" class="member-name-link">getBestFitness</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns best fitness so far.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCovForPrediction(int)" class="member-name-link">getCovForPrediction</a><wbr>(int&nbsp;iPred)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected double</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getGradient(int,java.util.ArrayList)" class="member-name-link">getGradient</a><wbr>(int&nbsp;iWeightDim,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&gt;&nbsp;weights)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Compute gradient for the given weight dimension</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getInitialWeightVector()" class="member-name-link">getInitialWeightVector</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Generates a zero vector.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMaxGradients(int)" class="member-name-link">getMaxGradients</a><wbr>(int&nbsp;nbOfIterations)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return the gradients with maximum absolute value.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getWeightCov(int,int)" class="member-name-link">getWeightCov</a><wbr>(int&nbsp;iFirst,
 int&nbsp;iSecond)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return the right stored covariance</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final double</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#howMuchWeightChanges(int)" class="member-name-link">howMuchWeightChanges</a><wbr>(int&nbsp;iTargetWeight)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Compute the change of target weight because of the gradient</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#initGDForNewRunWithSamePredictions()" class="member-name-link">initGDForNewRunWithSamePredictions</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Initialize GD optimization for new run with same predictions and true values
 This can be used if some parameters change.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#initPredictorVsTrueValuesCovariances()" class="member-name-link">initPredictorVsTrueValuesCovariances</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Compute covariances between predictors and true values.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isEarlyStop(java.util.ArrayList)" class="member-name-link">isEarlyStop</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&gt;&nbsp;weights)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Early stopping is triggered when the error rate is bigger than the
 smallest_error_rate multiplied by
 getSettings().getRules().getOptGDEarlyStopTreshold() = overfitting</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#modifyGradients(int%5B%5D,java.util.ArrayList)" class="member-name-link">modifyGradients</a><wbr>(int[]&nbsp;changedWeightIndex,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&gt;&nbsp;weights)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Recompute the gradients new iteration.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#modifyGradientSquared(int%5B%5D)" class="member-name-link">modifyGradientSquared</a><wbr>(int[]&nbsp;iChangedWeights)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Recomputation of gradients for least squares loss function</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final double</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#predictWithRule(int,int,int)" class="member-name-link">predictWithRule</a><wbr>(int&nbsp;iRule,
 int&nbsp;iInstance,
 int&nbsp;iTarget)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the real prediction when this rule is used.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#printGradientsToFile(int,java.io.PrintWriter)" class="member-name-link">printGradientsToFile</a><wbr>(int&nbsp;iterNro,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/io/PrintWriter.html" title="class or interface in java.io" class="external-link">PrintWriter</a>&nbsp;wrt)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Print gradients to output file.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#randDepthWighExponentialDistribution(double,int)" class="member-name-link">randDepthWighExponentialDistribution</a><wbr>(double&nbsp;unifRand,
 int&nbsp;avgDepth)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Return a maximum tree depth based on RulefFit (Friedman, Popescu.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#restoreBestWeight(java.util.ArrayList)" class="member-name-link">restoreBestWeight</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&gt;&nbsp;targetWeights)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Restore the weight with minimum fitness.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-si.ijs.kt.clus.util.tools.optimization.OptimizationProblem">Methods inherited from class&nbsp;si.ijs.kt.clus.util.tools.optimization.<a href="../OptimizationProblem.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptimizationProblem</a></h3>
<code><a href="../OptimizationProblem.html#calcFitness(java.util.ArrayList,si.ijs.kt.clus.algo.rules.ClusRuleSet)">calcFitness</a>, <a href="../OptimizationProblem.html#calcFitnessForTarget(java.util.ArrayList,int,si.ijs.kt.clus.algo.rules.ClusRuleSet)">calcFitnessForTarget</a>, <a href="../OptimizationProblem.html#changeData(si.ijs.kt.clus.util.tools.optimization.OptimizationProblem.OptimizationParameter)">changeData</a>, <a href="../OptimizationProblem.html#changeRuleSetToUndoNormNormalization(si.ijs.kt.clus.algo.rules.ClusRuleSet)">changeRuleSetToUndoNormNormalization</a>, <a href="../OptimizationProblem.html#getLinDescrDim(int)">getLinDescrDim</a>, <a href="../OptimizationProblem.html#getLinTargetDim(int)">getLinTargetDim</a>, <a href="../OptimizationProblem.html#getMean(int)">getMean</a>, <a href="../OptimizationProblem.html#getNbOfInstances()">getNbOfInstances</a>, <a href="../OptimizationProblem.html#getNbOfTargets()">getNbOfTargets</a>, <a href="../OptimizationProblem.html#getNormFactor(int)">getNormFactor</a>, <a href="../OptimizationProblem.html#getNumVar()">getNumVar</a>, <a href="../OptimizationProblem.html#getPredictionsWhenCovered(int,int,int)">getPredictionsWhenCovered</a>, <a href="../OptimizationProblem.html#getPredictionsWhenCovered(int,int,int,int)">getPredictionsWhenCovered</a>, <a href="../OptimizationProblem.html#getRuleCovers(int)">getRuleCovers</a>, <a href="../OptimizationProblem.html#getRuleNextCovered(int,int)">getRuleNextCovered</a>, <a href="../OptimizationProblem.html#getSettings()">getSettings</a>, <a href="../OptimizationProblem.html#getTargetStat()">getTargetStat</a>, <a href="../OptimizationProblem.html#getTrueValue(int,int)">getTrueValue</a>, <a href="../OptimizationProblem.html#initMeans(int)">initMeans</a>, <a href="../OptimizationProblem.html#initNormFactors(int,si.ijs.kt.clus.main.settings.Settings)">initNormFactors</a>, <a href="../OptimizationProblem.html#isClassifTask()">isClassifTask</a>, <a href="../OptimizationProblem.html#isCovered(int,int)">isCovered</a>, <a href="../OptimizationProblem.html#isRuleTerm(int)">isRuleTerm</a>, <a href="../OptimizationProblem.html#isValidValue(double)">isValidValue</a>, <a href="../OptimizationProblem.html#loss(double%5B%5D%5B%5D,int)">loss</a>, <a href="../OptimizationProblem.html#predictClass(double%5B%5D%5B%5D)">predictClass</a>, <a href="../OptimizationProblem.html#preparePredictionsForNormalization()">preparePredictionsForNormalization</a>, <a href="../OptimizationProblem.html#printPredictionsToFile(java.io.PrintWriter)">printPredictionsToFile</a>, <a href="../OptimizationProblem.html#printTrueValuesToFile(java.io.PrintWriter)">printTrueValuesToFile</a>, <a href="../OptimizationProblem.html#regularization(java.util.ArrayList)">regularization</a>, <a href="../OptimizationProblem.html#splitDataIntoValAndTrainSet(si.ijs.kt.clus.main.ClusStatManager,si.ijs.kt.clus.util.tools.optimization.OptimizationProblem.OptimizationParameter,si.ijs.kt.clus.util.tools.optimization.OptimizationProblem.OptimizationParameter,si.ijs.kt.clus.util.tools.optimization.OptimizationProblem.OptimizationParameter)">splitDataIntoValAndTrainSet</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="m_printGDDebugInformation">
<h3>m_printGDDebugInformation</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">m_printGDDebugInformation</span></div>
<div class="block">Do we print debugging information.</div>
</section>
</li>
<li>
<section class="detail" id="m_covariances">
<h3>m_covariances</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">double[][]</span>&nbsp;<span class="element-name">m_covariances</span></div>
<div class="block">Covariances between weights. Are computed only if needed.
 [iFirstWeight][iSecondWeight]</div>
</section>
</li>
<li>
<section class="detail" id="m_isCovComputed">
<h3>m_isCovComputed</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean[]</span>&nbsp;<span class="element-name">m_isCovComputed</span></div>
<div class="block">Is covariance computed for this dimension? To reduce computational costs,
 covariances for certain dimension are computed only if needed Weight is
 always zero if the corresponding coefficient is zero. This array SHOULD NOT
 be used for indication of nonzero weights. The covariance may be computed but
 the weight nonzero if (and only if) we are running the algorithm multiple
 times on the same predictions etc.</div>
</section>
</li>
<li>
<section class="detail" id="m_isWeightNonZero">
<h3>m_isWeightNonZero</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean[]</span>&nbsp;<span class="element-name">m_isWeightNonZero</span></div>
<div class="block">Is the weight nonzero for this run. If we are running optimization only once
 this is same as m_isCovComputed.</div>
</section>
</li>
<li>
<section class="detail" id="m_nbOfNonZeroRules">
<h3>m_nbOfNonZeroRules</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">m_nbOfNonZeroRules</span></div>
<div class="block">Number of rules with nonzero weights. I.e. how many trues in
 m_isWeightNonZero. The 'default rule' - the first rule that is always a
 constant is not counted!</div>
</section>
</li>
<li>
<section class="detail" id="m_predCovWithTrue">
<h3>m_predCovWithTrue</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="element-name">m_predCovWithTrue</span></div>
<div class="block">Covariances between predictors and true values. If all the weights are zero,
 these are also the initial gradients before the first iteration. Weights are
 zero, so these do not have to be computed again when running with same
 predictions and true values (different T values). These are also used when
 computing gradients from scratch.</div>
</section>
</li>
<li>
<section class="detail" id="m_gradients">
<h3>m_gradients</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="element-name">m_gradients</span></div>
<div class="block">Computed negative gradient averages for each of the dimensions [iWeight]</div>
</section>
</li>
<li>
<section class="detail" id="m_bannedWeights">
<h3>m_bannedWeights</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int[]</span>&nbsp;<span class="element-name">m_bannedWeights</span></div>
<div class="block">Includes the weights that are banned. One value for each of the weights, if
 value &gt; nbOfIterations, weight is banned.</div>
</section>
</li>
<li>
<section class="detail" id="m_stepSize">
<h3>m_stepSize</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">m_stepSize</span></div>
<div class="block">Step size for gradient descent</div>
</section>
</li>
<li>
<section class="detail" id="m_earlyStopProbl">
<h3>m_earlyStopProbl</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="../OptimizationProblem.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptimizationProblem</a></span>&nbsp;<span class="element-name">m_earlyStopProbl</span></div>
<div class="block">New problem for computing fitness function with the early stop data</div>
</section>
</li>
<li>
<section class="detail" id="m_ruleSet">
<h3>m_ruleSet</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="../../../../algo/rules/ClusRuleSet.html" title="class in si.ijs.kt.clus.algo.rules">ClusRuleSet</a></span>&nbsp;<span class="element-name">m_ruleSet</span></div>
</section>
</li>
<li>
<section class="detail" id="m_minFitness">
<h3>m_minFitness</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">m_minFitness</span></div>
<div class="block">List of old fitnesses for plateau detection (andy for debugging)</div>
</section>
</li>
<li>
<section class="detail" id="m_minFitWeights">
<h3>m_minFitWeights</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&gt;</span>&nbsp;<span class="element-name">m_minFitWeights</span></div>
<div class="block">Weights when the Fitness was minimum</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(si.ijs.kt.clus.main.ClusStatManager,si.ijs.kt.clus.util.tools.optimization.OptimizationProblem.OptimizationParameter,si.ijs.kt.clus.algo.rules.ClusRuleSet)">
<h3>GDProblem</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">GDProblem</span><wbr><span class="parameters">(<a href="../../../../main/ClusStatManager.html" title="class in si.ijs.kt.clus.main">ClusStatManager</a>&nbsp;stat_mgr,
 <a href="../OptimizationProblem.OptimizationParameter.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptimizationProblem.OptimizationParameter</a>&nbsp;optInfo,
 <a href="../../../../algo/rules/ClusRuleSet.html" title="class in si.ijs.kt.clus.algo.rules">ClusRuleSet</a>&nbsp;rset)</span></div>
<div class="block">Constructor for problem to be solved with gradient descent. Currently only
 for regression.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>stat_mgr</code> - Statistics</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="initGDForNewRunWithSamePredictions()">
<h3>initGDForNewRunWithSamePredictions</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">initGDForNewRunWithSamePredictions</span>()</div>
<div class="block">Initialize GD optimization for new run with same predictions and true values
 This can be used if some parameters change. Thus we e.g. do not compute
 covariances again</div>
</section>
</li>
<li>
<section class="detail" id="getInitialWeightVector()">
<h3>getInitialWeightVector</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&gt;</span>&nbsp;<span class="element-name">getInitialWeightVector</span>()</div>
<div class="block">Generates a zero vector.</div>
</section>
</li>
<li>
<section class="detail" id="getCovForPrediction(int)">
<h3>getCovForPrediction</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">getCovForPrediction</span><wbr><span class="parameters">(int&nbsp;iPred)</span></div>
</section>
</li>
<li>
<section class="detail" id="initPredictorVsTrueValuesCovariances()">
<h3>initPredictorVsTrueValuesCovariances</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">initPredictorVsTrueValuesCovariances</span>()</div>
<div class="block">Compute covariances between predictors and true values. With all zero weight
 vector these are also initial gradients before first iteration.</div>
</section>
</li>
<li>
<section class="detail" id="getWeightCov(int,int)">
<h3>getWeightCov</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">getWeightCov</span><wbr><span class="parameters">(int&nbsp;iFirst,
 int&nbsp;iSecond)</span></div>
<div class="block">Return the right stored covariance</div>
</section>
</li>
<li>
<section class="detail" id="predictWithRule(int,int,int)">
<h3>predictWithRule</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">predictWithRule</span><wbr><span class="parameters">(int&nbsp;iRule,
 int&nbsp;iInstance,
 int&nbsp;iTarget)</span></div>
<div class="block">Returns the real prediction when this rule is used. If the rule does not give
 prediction for some target, default rule is used. ONLY FOR REGRESSION!
 Classification not implemented.</div>
</section>
</li>
<li>
<section class="detail" id="fullGradientComputation(java.util.ArrayList)">
<h3>fullGradientComputation</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">fullGradientComputation</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&gt;&nbsp;weights)</span></div>
<div class="block">Compute the gradients for weights from scratch</div>
</section>
</li>
<li>
<section class="detail" id="getGradient(int,java.util.ArrayList)">
<h3>getGradient</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">getGradient</span><wbr><span class="parameters">(int&nbsp;iWeightDim,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&gt;&nbsp;weights)</span></div>
<div class="block">Compute gradient for the given weight dimension</div>
</section>
</li>
<li>
<section class="detail" id="modifyGradients(int[],java.util.ArrayList)">
<h3>modifyGradients</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">modifyGradients</span><wbr><span class="parameters">(int[]&nbsp;changedWeightIndex,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&gt;&nbsp;weights)</span></div>
<div class="block">Recompute the gradients new iteration. This is lot of faster than computing
 everything from the scratch.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>changedWeightIndex</code> - The index of weights that have changed. Only these
                           affect the change in the new gradient.
                           Friedman &amp; Popescu p.18</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="modifyGradientSquared(int[])">
<h3>modifyGradientSquared</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">modifyGradientSquared</span><wbr><span class="parameters">(int[]&nbsp;iChangedWeights)</span></div>
<div class="block">Recomputation of gradients for least squares loss function</div>
</section>
</li>
<li>
<section class="detail" id="getMaxGradients(int)">
<h3>getMaxGradients</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int[]</span>&nbsp;<span class="element-name">getMaxGradients</span><wbr><span class="parameters">(int&nbsp;nbOfIterations)</span></div>
<div class="block">Return the gradients with maximum absolute value. For the weights we want to
 change The function is assuming (if max allowed rule nb is set) that index 0
 of gradients includes the "default rule" which is not counted.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nbOfIterations</code> - Used for detecting if weight is banned (not usually
                       used)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="howMuchWeightChanges(int)">
<h3>howMuchWeightChanges</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">howMuchWeightChanges</span><wbr><span class="parameters">(int&nbsp;iTargetWeight)</span></div>
<div class="block">Compute the change of target weight because of the gradient</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>iTargetWeight</code> - Weight index we want to change.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="computeCovariancesIfNeeded(int)">
<h3>computeCovariancesIfNeeded</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">computeCovariancesIfNeeded</span><wbr><span class="parameters">(int&nbsp;iWeight)</span></div>
<div class="block">Compute the needed covariances for the weight. Only called if we are going to
 change the weight.</div>
</section>
</li>
<li>
<section class="detail" id="dropStepSize(double)">
<h3>dropStepSize</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">dropStepSize</span><wbr><span class="parameters">(double&nbsp;amount)</span></div>
<div class="block">In case of oscillation, make the step size shorter We should be changing the
 step size just enough not to prevent further oscillation</div>
</section>
</li>
<li>
<section class="detail" id="getBestFitness()">
<h3>getBestFitness</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">getBestFitness</span>()</div>
<div class="block">Returns best fitness so far.</div>
</section>
</li>
<li>
<section class="detail" id="isEarlyStop(java.util.ArrayList)">
<h3>isEarlyStop</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isEarlyStop</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&gt;&nbsp;weights)</span></div>
<div class="block">Early stopping is triggered when the error rate is bigger than the
 smallest_error_rate multiplied by
 getSettings().getRules().getOptGDEarlyStopTreshold() = overfitting</div>
</section>
</li>
<li>
<section class="detail" id="restoreBestWeight(java.util.ArrayList)">
<h3>restoreBestWeight</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">restoreBestWeight</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&gt;&nbsp;targetWeights)</span></div>
<div class="block">Restore the weight with minimum fitness.</div>
</section>
</li>
<li>
<section class="detail" id="randDepthWighExponentialDistribution(double,int)">
<h3>randDepthWighExponentialDistribution</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">randDepthWighExponentialDistribution</span><wbr><span class="parameters">(double&nbsp;unifRand,
 int&nbsp;avgDepth)</span></div>
<div class="block">Return a maximum tree depth based on RulefFit (Friedman, Popescu. 2005)
 function used. Function is Pr(nbOfLeaves) =
 exp(-nbOfLeaves/(avgDepth/2))/(avgDepth-2).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>unifRand</code> - Random uniform number on which the number is based on.</dd>
<dd><code>avgDepth</code> - Average depth (L in RuleFit).</dd>
<dt>Returns:</dt>
<dd>Random depth</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="printGradientsToFile(int,java.io.PrintWriter)">
<h3>printGradientsToFile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">printGradientsToFile</span><wbr><span class="parameters">(int&nbsp;iterNro,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/io/PrintWriter.html" title="class or interface in java.io" class="external-link">PrintWriter</a>&nbsp;wrt)</span></div>
<div class="block">Print gradients to output file.</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2023 <a href="http://kt.ijs.si">Department of Knowledge Technologies, Joef Stefan Institute, Ljubljana, Slovenia</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
