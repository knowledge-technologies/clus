<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_40) on Mon May 21 15:59:10 CEST 2018 -->
<title>OptProbl</title>
<meta name="date" content="2018-05-21">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="OptProbl";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":9,"i21":9,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":10,"i39":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/OptProbl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptAlg.html" title="class in si.ijs.kt.clus.util.tools.optimization"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.OptParam.html" title="class in si.ijs.kt.clus.util.tools.optimization"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?si/ijs/kt/clus/util/tools/optimization/OptProbl.html" target="_top">Frames</a></li>
<li><a href="OptProbl.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">si.ijs.kt.clus.util.tools.optimization</div>
<h2 title="Class OptProbl" class="title">Class OptProbl</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>si.ijs.kt.clus.util.tools.optimization.OptProbl</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/de/DeProbl.html" title="class in si.ijs.kt.clus.util.tools.optimization.de">DeProbl</a>, <a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/GDProbl.html" title="class in si.ijs.kt.clus.util.tools.optimization">GDProbl</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">OptProbl</span>
extends java.lang.Object</pre>
<div class="block">Class representing a optimization problem.
 Can be used e.g. in Differential evolution and Gradient descent optimization
 Includes loss functions and regularization</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Timo Aho, Tea Tusar</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.OptParam.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptProbl.OptParam</a></span></code>
<div class="block">Parameters for optimization algorithm.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.RulePred.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptProbl.RulePred</a></span></code>
<div class="block">Predictions of rule type base functions.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.TrueValues.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptProbl.TrueValues</a></span></code>
<div class="block">True values of the instances.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#INVALID_PREDICTION">INVALID_PREDICTION</a></span></code>
<div class="block">A regression prediction for initialization.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private double[][][][]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#m_BaseFuncPred">m_BaseFuncPred</a></span></code>
<div class="block">Other base function predictions [function index][instance][target index][class_value] is for
 nominal attributes or [function index][instance][target index][0] for regression.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#m_ClssTask">m_ClssTask</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/ImplicitLinearTerms.html" title="class in si.ijs.kt.clus.util.tools.optimization">ImplicitLinearTerms</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#m_LinTermMemSavePred">m_LinTermMemSavePred</a></span></code>
<div class="block">If we want to save memory (amount of linear terms may be huge) we are not yet explicitly
 adding the linear terms to the set.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#m_NumVar">m_NumVar</a></span></code>
<div class="block">Number of weights/variables to optimize</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.RulePred.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptProbl.RulePred</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#m_RulePred">m_RulePred</a></span></code>
<div class="block">Rule indexes are always first.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#m_saveMemoryLinears">m_saveMemoryLinears</a></span></code>
<div class="block">Do we use save memory version of linear terms.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../si/ijs/kt/clus/main/ClusStatManager.html" title="class in si.ijs.kt.clus.main">ClusStatManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#m_StatMgr">m_StatMgr</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#m_TargetAvg">m_TargetAvg</a></span></code>
<div class="block">For normalization during optimization, the averages for each of the targets.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#m_TargetNormFactor">m_TargetNormFactor</a></span></code>
<div class="block">For normalization during optimization, the std devs for each of the targets</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.TrueValues.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptProbl.TrueValues</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#m_TrueVal">m_TrueVal</a></span></code>
<div class="block">True target values for the data points.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#OptProbl-si.ijs.kt.clus.main.ClusStatManager-si.ijs.kt.clus.util.tools.optimization.OptProbl.OptParam-">OptProbl</a></span>(<a href="../../../../../../../si/ijs/kt/clus/main/ClusStatManager.html" title="class in si.ijs.kt.clus.main">ClusStatManager</a>&nbsp;stat_mgr,
        <a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.OptParam.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptProbl.OptParam</a>&nbsp;optInfo)</code>
<div class="block">Constructor for problem to be solved with optimization.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#calcFitness-java.util.ArrayList-">calcFitness</a></span>(java.util.ArrayList&lt;java.lang.Double&gt;&nbsp;genes)</code>
<div class="block">Fitness function over all targets.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#calcFitnessForTarget-java.util.ArrayList-int-">calcFitnessForTarget</a></span>(java.util.ArrayList&lt;java.lang.Double&gt;&nbsp;genes,
                    int&nbsp;iFitnessTarget)</code>
<div class="block">Fitness function for single target, not for all of them.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#changeData-si.ijs.kt.clus.util.tools.optimization.OptProbl.OptParam-">changeData</a></span>(<a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.OptParam.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptProbl.OptParam</a>&nbsp;newData)</code>
<div class="block">Change the data used for learning.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#changeRuleSetToUndoNormNormalization-si.ijs.kt.clus.algo.rules.ClusRuleSet-">changeRuleSetToUndoNormNormalization</a></span>(<a href="../../../../../../../si/ijs/kt/clus/algo/rules/ClusRuleSet.html" title="class in si.ijs.kt.clus.algo.rules">ClusRuleSet</a>&nbsp;rset)</code>
<div class="block">Changes rule set to undo the changes done to predictions</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#computeHuberDeltas-si.ijs.kt.clus.util.tools.optimization.OptProbl.TrueValues:A-double:A:A-">computeHuberDeltas</a></span>(<a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.TrueValues.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptProbl.TrueValues</a>[]&nbsp;trueValues,
                  double[][]&nbsp;predictions)</code>
<div class="block">For Huber 1962 loss function we need the the delta values for each target.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#getLinDescrDim-int-">getLinDescrDim</a></span>(int&nbsp;iLinTerm)</code>
<div class="block">Returns descriptive dimension for linear term with this index.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#getLinTargetDim-int-">getLinTargetDim</a></span>(int&nbsp;iLinTerm)</code>
<div class="block">Returns target dimension for linear term with this index.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#getMean-int-">getMean</a></span>(int&nbsp;iAttr)</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#getNbOfInstances--">getNbOfInstances</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#getNbOfTargets--">getNbOfTargets</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#getNormFactor-int-">getNormFactor</a></span>(int&nbsp;iTarget)</code>
<div class="block">For normalization during optimization, the scaling factor for each of the targets.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#getNumVar--">getNumVar</a></span>()</code>
<div class="block">Number of variables to be optimized</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#getPredictionsWhenCovered-int-int-int-">getPredictionsWhenCovered</a></span>(int&nbsp;iRule,
                         int&nbsp;iInstance,
                         int&nbsp;iTarget)</code>
<div class="block">Value of base function prediction in regression use
 when we already know that instance is covered! Use isCovered for this.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#getPredictionsWhenCovered-int-int-int-int-">getPredictionsWhenCovered</a></span>(int&nbsp;iRule,
                         int&nbsp;iInstance,
                         int&nbsp;iTarget,
                         int&nbsp;iClass)</code>
<div class="block">Value of base function prediction.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>protected java.util.BitSet</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#getRuleCovers-int-">getRuleCovers</a></span>(int&nbsp;iRule)</code>
<div class="block">Returns boolean array of rule covering</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#getRuleNextCovered-int-int-">getRuleNextCovered</a></span>(int&nbsp;iRule,
                  int&nbsp;iFromIndex)</code>
<div class="block">Returns the index of next covered instance for the rule</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../si/ijs/kt/clus/main/settings/Settings.html" title="class in si.ijs.kt.clus.main.settings">Settings</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#getSettings--">getSettings</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../../si/ijs/kt/clus/statistic/ClusStatistic.html" title="class in si.ijs.kt.clus.statistic">ClusStatistic</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#getTargetStat--">getTargetStat</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#getTrueValue-int-int-">getTrueValue</a></span>(int&nbsp;iInstance,
            int&nbsp;iTarget)</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.TrueValues.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptProbl.TrueValues</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#getTrueValues--">getTrueValues</a></span>()</code>
<div class="block">The loss function should be separate in the sense
 that it does not use member functions.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>protected static double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#initMeans-int-">initMeans</a></span>(int&nbsp;nbTargs)</code>
<div class="block">Initializes means with global means, this is not always done, sometimes mean = 0</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>protected static double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#initNormFactors-int-si.ijs.kt.clus.main.settings.Settings-">initNormFactors</a></span>(int&nbsp;nbTargs,
               <a href="../../../../../../../si/ijs/kt/clus/main/settings/Settings.html" title="class in si.ijs.kt.clus.main.settings">Settings</a>&nbsp;sett)</code>
<div class="block">Initializes norm factors based on precomputed std dev values.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#isClassifTask--">isClassifTask</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#isCovered-int-int-">isCovered</a></span>(int&nbsp;iRule,
         int&nbsp;iInstance)</code>
<div class="block">Does the base function cover the given example?
 This should be used instead of checkin if prediction is NaN.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#isRuleTerm-int-">isRuleTerm</a></span>(int&nbsp;index)</code>
<div class="block">Is the predictor of given index a regular rule</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#isValidValue-double-">isValidValue</a></span>(double&nbsp;pred)</code>
<div class="block">Is prediction/true value valid value</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#loss-double:A:A-int-">loss</a></span>(double[][]&nbsp;prediction,
    int&nbsp;iTarget)</code>
<div class="block">Loss function for data set.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#loss01-si.ijs.kt.clus.util.tools.optimization.OptProbl.TrueValues:A-double:A:A-">loss01</a></span>(<a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.TrueValues.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptProbl.TrueValues</a>[]&nbsp;trueValue,
      double[][]&nbsp;prediction)</code>
<div class="block">0-1 distance loss function for data set.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#lossHuber-si.ijs.kt.clus.util.tools.optimization.OptProbl.TrueValues:A-double:A:A-">lossHuber</a></span>(<a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.TrueValues.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptProbl.TrueValues</a>[]&nbsp;trueValue,
         double[][]&nbsp;prediction)</code>
<div class="block">Huber 1962 loss function for data set.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#lossRRMSE-si.ijs.kt.clus.util.tools.optimization.OptProbl.TrueValues:A-double:A:A-">lossRRMSE</a></span>(<a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.TrueValues.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptProbl.TrueValues</a>[]&nbsp;trueValue,
         double[][]&nbsp;prediction)</code>
<div class="block">Relative root mean squared error RRMSE loss function for data set.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#lossSquared-double:A:A-int-">lossSquared</a></span>(double[][]&nbsp;prediction,
           int&nbsp;indTarget)</code>
<div class="block">Squared distance loss function for data set.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>protected double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#predictClass-double:A:A-">predictClass</a></span>(double[][]&nbsp;predictionSums)</code>
<div class="block">Classification prediction.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>private double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#predictRegression-double:A:A-">predictRegression</a></span>(double[][]&nbsp;predictionSums)</code>
<div class="block">Regression prediction.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#preparePredictionsForNormalization--">preparePredictionsForNormalization</a></span>()</code>
<div class="block">Prepare predictions for normalization, the predictions might have to be changed</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#printPred-int-int-">printPred</a></span>(int&nbsp;ruleIndex,
         int&nbsp;exampleIndex)</code>&nbsp;</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#printPredictionsToFile-java.io.PrintWriter-">printPredictionsToFile</a></span>(java.io.PrintWriter&nbsp;wrt)</code>
<div class="block">Print predictions to output file.</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#printTrueValuesToFile-java.io.PrintWriter-">printTrueValuesToFile</a></span>(java.io.PrintWriter&nbsp;wrt)</code>
<div class="block">Print true values to output file.</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#regularization-java.util.ArrayList-">regularization</a></span>(java.util.ArrayList&lt;java.lang.Double&gt;&nbsp;genes)</code>
<div class="block">Regularization penalty for the optimization function.</div>
</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#returnNbNonZeroes-java.util.ArrayList-">returnNbNonZeroes</a></span>(java.util.ArrayList&lt;java.lang.Double&gt;&nbsp;genes)</code>
<div class="block">Number of non zero weights for regularization purposes</div>
</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>protected static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.html#splitDataIntoValAndTrainSet-si.ijs.kt.clus.main.ClusStatManager-si.ijs.kt.clus.util.tools.optimization.OptProbl.OptParam-si.ijs.kt.clus.util.tools.optimization.OptProbl.OptParam-si.ijs.kt.clus.util.tools.optimization.OptProbl.OptParam-">splitDataIntoValAndTrainSet</a></span>(<a href="../../../../../../../si/ijs/kt/clus/main/ClusStatManager.html" title="class in si.ijs.kt.clus.main">ClusStatManager</a>&nbsp;stat_mgr,
                           <a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.OptParam.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptProbl.OptParam</a>&nbsp;origData,
                           <a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.OptParam.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptProbl.OptParam</a>&nbsp;valData,
                           <a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.OptParam.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptProbl.OptParam</a>&nbsp;trainData)</code>
<div class="block">Splits data into validation and training sets randomly</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="INVALID_PREDICTION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INVALID_PREDICTION</h4>
<pre>protected static final&nbsp;double INVALID_PREDICTION</pre>
<div class="block">A regression prediction for initialization.
 It is negative so that this class is not selected in classification.
 Because default rule is used, this value should never go to loss function.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#si.ijs.kt.clus.util.tools.optimization.OptProbl.INVALID_PREDICTION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="m_NumVar">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>m_NumVar</h4>
<pre>private&nbsp;int m_NumVar</pre>
<div class="block">Number of weights/variables to optimize</div>
</li>
</ul>
<a name="m_RulePred">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>m_RulePred</h4>
<pre>private&nbsp;<a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.RulePred.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptProbl.RulePred</a>[] m_RulePred</pre>
<div class="block">Rule indexes are always first.
 Rule predictions [rule index]. Includes the prediction and boolean array of covered instances.
 Similar to m_BaseFuncPred but only for rules (constant prediction if covers).</div>
</li>
</ul>
<a name="m_BaseFuncPred">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>m_BaseFuncPred</h4>
<pre>private&nbsp;double[][][][] m_BaseFuncPred</pre>
<div class="block">Other base function predictions [function index][instance][target index][class_value] is for
 nominal attributes or [function index][instance][target index][0] for regression.
 The [target index] is always [0] for single target use.
 The class value dimension is dynamic for each target index.
 These base functions have always indices AFTER rules.
 For rules use the other array, it is faster!</div>
</li>
</ul>
<a name="m_LinTermMemSavePred">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>m_LinTermMemSavePred</h4>
<pre>private&nbsp;<a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/ImplicitLinearTerms.html" title="class in si.ijs.kt.clus.util.tools.optimization">ImplicitLinearTerms</a> m_LinTermMemSavePred</pre>
<div class="block">If we want to save memory (amount of linear terms may be huge) we are not yet explicitly
 adding the linear terms to the set. Instead we are asking from the linear term set for the prediction.
 This is used only if a switch is set on.</div>
</li>
</ul>
<a name="m_TrueVal">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>m_TrueVal</h4>
<pre>private&nbsp;<a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.TrueValues.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptProbl.TrueValues</a>[] m_TrueVal</pre>
<div class="block">True target values for the data points. [instance]</div>
</li>
</ul>
<a name="m_StatMgr">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>m_StatMgr</h4>
<pre>private&nbsp;<a href="../../../../../../../si/ijs/kt/clus/main/ClusStatManager.html" title="class in si.ijs.kt.clus.main">ClusStatManager</a> m_StatMgr</pre>
</li>
</ul>
<a name="m_ClssTask">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>m_ClssTask</h4>
<pre>private&nbsp;boolean m_ClssTask</pre>
</li>
</ul>
<a name="m_TargetAvg">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>m_TargetAvg</h4>
<pre>private&nbsp;double[] m_TargetAvg</pre>
<div class="block">For normalization during optimization, the averages for each of the targets.
 If normalization is not used, means equal 0.</div>
</li>
</ul>
<a name="m_TargetNormFactor">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>m_TargetNormFactor</h4>
<pre>private&nbsp;double[] m_TargetNormFactor</pre>
<div class="block">For normalization during optimization, the std devs for each of the targets</div>
</li>
</ul>
<a name="m_saveMemoryLinears">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>m_saveMemoryLinears</h4>
<pre>boolean m_saveMemoryLinears</pre>
<div class="block">Do we use save memory version of linear terms. A very often used function call</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="OptProbl-si.ijs.kt.clus.main.ClusStatManager-si.ijs.kt.clus.util.tools.optimization.OptProbl.OptParam-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>OptProbl</h4>
<pre>public&nbsp;OptProbl(<a href="../../../../../../../si/ijs/kt/clus/main/ClusStatManager.html" title="class in si.ijs.kt.clus.main">ClusStatManager</a>&nbsp;stat_mgr,
                <a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.OptParam.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptProbl.OptParam</a>&nbsp;optInfo)</pre>
<div class="block">Constructor for problem to be solved with optimization. Both classification and regression.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stat_mgr</code> - Statistics</dd>
<dd><code>dataInformation</code> - The true values and predictions for the instances. These are used by OptimProbl.
        The optimization procedure is based on this data information</dd>
<dd><code>isClassification</code> - Is it classification or regression?</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="splitDataIntoValAndTrainSet-si.ijs.kt.clus.main.ClusStatManager-si.ijs.kt.clus.util.tools.optimization.OptProbl.OptParam-si.ijs.kt.clus.util.tools.optimization.OptProbl.OptParam-si.ijs.kt.clus.util.tools.optimization.OptProbl.OptParam-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>splitDataIntoValAndTrainSet</h4>
<pre>protected static&nbsp;void&nbsp;splitDataIntoValAndTrainSet(<a href="../../../../../../../si/ijs/kt/clus/main/ClusStatManager.html" title="class in si.ijs.kt.clus.main">ClusStatManager</a>&nbsp;stat_mgr,
                                                  <a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.OptParam.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptProbl.OptParam</a>&nbsp;origData,
                                                  <a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.OptParam.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptProbl.OptParam</a>&nbsp;valData,
                                                  <a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.OptParam.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptProbl.OptParam</a>&nbsp;trainData)</pre>
<div class="block">Splits data into validation and training sets randomly</div>
</li>
</ul>
<a name="calcFitness-java.util.ArrayList-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcFitness</h4>
<pre>public final&nbsp;double&nbsp;calcFitness(java.util.ArrayList&lt;java.lang.Double&gt;&nbsp;genes)</pre>
<div class="block">Fitness function over all targets.
 The classification prediction is voting without weights.
 Smaller is better.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>genes</code> - The current generation (population).</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>fitness score</dd>
</dl>
</li>
</ul>
<a name="calcFitnessForTarget-java.util.ArrayList-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcFitnessForTarget</h4>
<pre>public&nbsp;double&nbsp;calcFitnessForTarget(java.util.ArrayList&lt;java.lang.Double&gt;&nbsp;genes,
                                   int&nbsp;iFitnessTarget)</pre>
<div class="block">Fitness function for single target, not for all of them.
 The classification prediction is voting without weights.
 Smaller is better.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>genes</code> - The current generation (population).</dd>
<dd><code>iTarget</code> - For which target we are computing the fitness. If -1 for all of them.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>fitness score</dd>
</dl>
</li>
</ul>
<a name="returnNbNonZeroes-java.util.ArrayList-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>returnNbNonZeroes</h4>
<pre>private&nbsp;int&nbsp;returnNbNonZeroes(java.util.ArrayList&lt;java.lang.Double&gt;&nbsp;genes)</pre>
<div class="block">Number of non zero weights for regularization purposes</div>
</li>
</ul>
<a name="predictRegression-double:A:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>predictRegression</h4>
<pre>private&nbsp;double[]&nbsp;predictRegression(double[][]&nbsp;predictionSums)</pre>
<div class="block">Regression prediction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>predictionSums</code> - The weighted sum of rules for all targets.
        The second dimension not used i.e. [Target][1].</dd>
<dd><code>nbOfTargets</code> - Number of targets</dd>
<dd><code>nbOfValues</code> - Number of class values</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Array of prediction [target]</dd>
</dl>
</li>
</ul>
<a name="predictClass-double:A:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>predictClass</h4>
<pre>protected&nbsp;double[]&nbsp;predictClass(double[][]&nbsp;predictionSums)</pre>
<div class="block">Classification prediction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>predictionSums</code> - The weighted sum of rules for different classes. [Target][Class value]</dd>
<dd><code>nbOfTargets</code> - Number of targets</dd>
<dd><code>nbOfValues</code> - Number of class values</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Array of prediction [target]</dd>
</dl>
</li>
</ul>
<a name="loss-double:A:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loss</h4>
<pre>protected&nbsp;double&nbsp;loss(double[][]&nbsp;prediction,
                      int&nbsp;iTarget)</pre>
<div class="block">Loss function for data set. Chooses the right loss function
 based on the settings file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>trueValue</code> - The true values of targets. [Instance][Target]</dd>
<dd><code>prediction</code> - The prediction. [Instance][Target]</dd>
<dd><code>iTarget</code> - Over this target index we compute loss. If -1, over all examples</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Loss for the data.</dd>
</dl>
</li>
</ul>
<a name="lossSquared-double:A:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lossSquared</h4>
<pre>private&nbsp;double&nbsp;lossSquared(double[][]&nbsp;prediction,
                           int&nbsp;indTarget)</pre>
<div class="block">Squared distance loss function for data set.
 Is ok, because the data is normalized.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>trueValue</code> - The true values of targets. [Instance][Target]</dd>
<dd><code>prediction</code> - The prediction. [Instance][Target]</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Loss for the data.</dd>
</dl>
</li>
</ul>
<a name="lossRRMSE-si.ijs.kt.clus.util.tools.optimization.OptProbl.TrueValues:A-double:A:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lossRRMSE</h4>
<pre>private&nbsp;double&nbsp;lossRRMSE(<a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.TrueValues.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptProbl.TrueValues</a>[]&nbsp;trueValue,
                         double[][]&nbsp;prediction)</pre>
<div class="block">Relative root mean squared error RRMSE loss function for data set.
 RRMSE is sum of squared errors divided by the variance.
 Relativeness is not useful, because the data is normalized.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>trueValue</code> - The true values of targets. [Instance][Target]</dd>
<dd><code>prediction</code> - The prediction. [Instance][Target]</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Loss for the data.</dd>
</dl>
</li>
</ul>
<a name="lossHuber-si.ijs.kt.clus.util.tools.optimization.OptProbl.TrueValues:A-double:A:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lossHuber</h4>
<pre>private&nbsp;double&nbsp;lossHuber(<a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.TrueValues.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptProbl.TrueValues</a>[]&nbsp;trueValue,
                         double[][]&nbsp;prediction)</pre>
<div class="block">Huber 1962 loss function for data set.
 This is mainly the squared distance error. However for great distances it is smoothed.
 Thus it is robust to outliers.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>trueValue</code> - The true values of targets. [Instance][Target]</dd>
<dd><code>prediction</code> - The prediction. [Instance][Target]</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Loss for the data.</dd>
</dl>
</li>
</ul>
<a name="computeHuberDeltas-si.ijs.kt.clus.util.tools.optimization.OptProbl.TrueValues:A-double:A:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeHuberDeltas</h4>
<pre>private&nbsp;double[]&nbsp;computeHuberDeltas(<a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.TrueValues.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptProbl.TrueValues</a>[]&nbsp;trueValues,
                                    double[][]&nbsp;predictions)</pre>
<div class="block">For Huber 1962 loss function we need the the delta values for each target.
 Delta value depends on the alpha quantiles of the data</div>
</li>
</ul>
<a name="loss01-si.ijs.kt.clus.util.tools.optimization.OptProbl.TrueValues:A-double:A:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loss01</h4>
<pre>private&nbsp;double&nbsp;loss01(<a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.TrueValues.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptProbl.TrueValues</a>[]&nbsp;trueValue,
                      double[][]&nbsp;prediction)</pre>
<div class="block">0-1 distance loss function for data set.
 Usually used only in classification.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>trueValue</code> - The true values of targets. [Instance][Target]</dd>
<dd><code>prediction</code> - The prediction. [Instance][Target]</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Loss for the data.</dd>
</dl>
</li>
</ul>
<a name="regularization-java.util.ArrayList-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>regularization</h4>
<pre>protected&nbsp;double&nbsp;regularization(java.util.ArrayList&lt;java.lang.Double&gt;&nbsp;genes)</pre>
<div class="block">Regularization penalty for the optimization function.
 This reduces the size of genes so that they do not grow too much.
 The power for the differences can be changed in settings file.
 The default is lasso, power = 1. This keeps the weights zero if possible.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>genes</code> - The genes, i.e. the weights.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Penalty for the weights.</dd>
</dl>
</li>
</ul>
<a name="getNumVar--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumVar</h4>
<pre>public final&nbsp;int&nbsp;getNumVar()</pre>
<div class="block">Number of variables to be optimized</div>
</li>
</ul>
<a name="getSettings--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSettings</h4>
<pre>protected final&nbsp;<a href="../../../../../../../si/ijs/kt/clus/main/settings/Settings.html" title="class in si.ijs.kt.clus.main.settings">Settings</a>&nbsp;getSettings()</pre>
</li>
</ul>
<a name="getTargetStat--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTargetStat</h4>
<pre>protected final&nbsp;<a href="../../../../../../../si/ijs/kt/clus/statistic/ClusStatistic.html" title="class in si.ijs.kt.clus.statistic">ClusStatistic</a>&nbsp;getTargetStat()</pre>
</li>
</ul>
<a name="isCovered-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCovered</h4>
<pre>protected final&nbsp;boolean&nbsp;isCovered(int&nbsp;iRule,
                                  int&nbsp;iInstance)</pre>
<div class="block">Does the base function cover the given example?
 This should be used instead of checkin if prediction is NaN.</div>
</li>
</ul>
<a name="getPredictionsWhenCovered-int-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPredictionsWhenCovered</h4>
<pre>protected final&nbsp;double&nbsp;getPredictionsWhenCovered(int&nbsp;iRule,
                                                 int&nbsp;iInstance,
                                                 int&nbsp;iTarget,
                                                 int&nbsp;iClass)</pre>
<div class="block">Value of base function prediction. Can be used also for nominal attributes
 when we already know that instance is covered! Use isCovered for this.
 If used right, gives always prediction.</div>
</li>
</ul>
<a name="isRuleTerm-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRuleTerm</h4>
<pre>protected final&nbsp;boolean&nbsp;isRuleTerm(int&nbsp;index)</pre>
<div class="block">Is the predictor of given index a regular rule</div>
</li>
</ul>
<a name="getPredictionsWhenCovered-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPredictionsWhenCovered</h4>
<pre>protected final&nbsp;double&nbsp;getPredictionsWhenCovered(int&nbsp;iRule,
                                                 int&nbsp;iInstance,
                                                 int&nbsp;iTarget)</pre>
<div class="block">Value of base function prediction in regression use
 when we already know that instance is covered! Use isCovered for this.
 If used right, gives always prediction.</div>
</li>
</ul>
<a name="getTrueValue-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTrueValue</h4>
<pre>protected final&nbsp;double&nbsp;getTrueValue(int&nbsp;iInstance,
                                    int&nbsp;iTarget)</pre>
</li>
</ul>
<a name="getTrueValues--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTrueValues</h4>
<pre>private final&nbsp;<a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.TrueValues.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptProbl.TrueValues</a>[]&nbsp;getTrueValues()</pre>
<div class="block">The loss function should be separate in the sense
 that it does not use member functions.
 OBSOLETE, does not take into account target avg even if it should!</div>
</li>
</ul>
<a name="isClassifTask--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isClassifTask</h4>
<pre>protected final&nbsp;boolean&nbsp;isClassifTask()</pre>
</li>
</ul>
<a name="getNbOfInstances--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNbOfInstances</h4>
<pre>protected final&nbsp;int&nbsp;getNbOfInstances()</pre>
</li>
</ul>
<a name="getNbOfTargets--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNbOfTargets</h4>
<pre>protected&nbsp;int&nbsp;getNbOfTargets()</pre>
</li>
</ul>
<a name="changeData-si.ijs.kt.clus.util.tools.optimization.OptProbl.OptParam-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changeData</h4>
<pre>protected final&nbsp;void&nbsp;changeData(<a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.OptParam.html" title="class in si.ijs.kt.clus.util.tools.optimization">OptProbl.OptParam</a>&nbsp;newData)</pre>
<div class="block">Change the data used for learning. This is used if part of the data
 is used for e.g. testing.</div>
</li>
</ul>
<a name="isValidValue-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isValidValue</h4>
<pre>protected final&nbsp;boolean&nbsp;isValidValue(double&nbsp;pred)</pre>
<div class="block">Is prediction/true value valid value</div>
</li>
</ul>
<a name="initMeans-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initMeans</h4>
<pre>protected static&nbsp;double[]&nbsp;initMeans(int&nbsp;nbTargs)</pre>
<div class="block">Initializes means with global means, this is not always done, sometimes mean = 0</div>
</li>
</ul>
<a name="initNormFactors-int-si.ijs.kt.clus.main.settings.Settings-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initNormFactors</h4>
<pre>protected static&nbsp;double[]&nbsp;initNormFactors(int&nbsp;nbTargs,
                                          <a href="../../../../../../../si/ijs/kt/clus/main/settings/Settings.html" title="class in si.ijs.kt.clus.main.settings">Settings</a>&nbsp;sett)</pre>
<div class="block">Initializes norm factors based on precomputed std dev values. Norm factor is always
 a square of normalization factor of SINGLE term (because this is used for normalizing product
 of two terms)</div>
</li>
</ul>
<a name="getNormFactor-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNormFactor</h4>
<pre>protected final&nbsp;double&nbsp;getNormFactor(int&nbsp;iTarget)</pre>
<div class="block">For normalization during optimization, the scaling factor for each of the targets.
 For single prediction/true value Math.sqrt() of this should be used, because this is
 meant for e.g. covariance computing.</div>
</li>
</ul>
<a name="getMean-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMean</h4>
<pre>protected final&nbsp;double&nbsp;getMean(int&nbsp;iAttr)</pre>
</li>
</ul>
<a name="getRuleCovers-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRuleCovers</h4>
<pre>protected final&nbsp;java.util.BitSet&nbsp;getRuleCovers(int&nbsp;iRule)</pre>
<div class="block">Returns boolean array of rule covering</div>
</li>
</ul>
<a name="getRuleNextCovered-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRuleNextCovered</h4>
<pre>protected final&nbsp;int&nbsp;getRuleNextCovered(int&nbsp;iRule,
                                       int&nbsp;iFromIndex)</pre>
<div class="block">Returns the index of next covered instance for the rule</div>
</li>
</ul>
<a name="getLinTargetDim-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLinTargetDim</h4>
<pre>protected final&nbsp;int&nbsp;getLinTargetDim(int&nbsp;iLinTerm)</pre>
<div class="block">Returns target dimension for linear term with this index.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>iLinTerm</code> - </dd>
</dl>
</li>
</ul>
<a name="getLinDescrDim-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLinDescrDim</h4>
<pre>protected final&nbsp;int&nbsp;getLinDescrDim(int&nbsp;iLinTerm)</pre>
<div class="block">Returns descriptive dimension for linear term with this index.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>iLinTerm</code> - </dd>
</dl>
</li>
</ul>
<a name="preparePredictionsForNormalization--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>preparePredictionsForNormalization</h4>
<pre>protected&nbsp;void&nbsp;preparePredictionsForNormalization()</pre>
<div class="block">Prepare predictions for normalization, the predictions might have to be changed</div>
</li>
</ul>
<a name="changeRuleSetToUndoNormNormalization-si.ijs.kt.clus.algo.rules.ClusRuleSet-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changeRuleSetToUndoNormNormalization</h4>
<pre>protected&nbsp;void&nbsp;changeRuleSetToUndoNormNormalization(<a href="../../../../../../../si/ijs/kt/clus/algo/rules/ClusRuleSet.html" title="class in si.ijs.kt.clus.algo.rules">ClusRuleSet</a>&nbsp;rset)</pre>
<div class="block">Changes rule set to undo the changes done to predictions</div>
</li>
</ul>
<a name="printPred-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>printPred</h4>
<pre>private&nbsp;java.lang.String&nbsp;printPred(int&nbsp;ruleIndex,
                                   int&nbsp;exampleIndex)</pre>
</li>
</ul>
<a name="printPredictionsToFile-java.io.PrintWriter-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>printPredictionsToFile</h4>
<pre>protected&nbsp;void&nbsp;printPredictionsToFile(java.io.PrintWriter&nbsp;wrt)</pre>
<div class="block">Print predictions to output file.</div>
</li>
</ul>
<a name="printTrueValuesToFile-java.io.PrintWriter-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>printTrueValuesToFile</h4>
<pre>protected&nbsp;void&nbsp;printTrueValuesToFile(java.io.PrintWriter&nbsp;wrt)</pre>
<div class="block">Print true values to output file.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/OptProbl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptAlg.html" title="class in si.ijs.kt.clus.util.tools.optimization"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../si/ijs/kt/clus/util/tools/optimization/OptProbl.OptParam.html" title="class in si.ijs.kt.clus.util.tools.optimization"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?si/ijs/kt/clus/util/tools/optimization/OptProbl.html" target="_top">Frames</a></li>
<li><a href="OptProbl.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
